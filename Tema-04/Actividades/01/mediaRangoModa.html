<!DOCTYPE html>
<html>

<head>
    <script>
        function main() {
            let array = pedirValores();
            media(array);
            rango(array);
            moda(array);

            function pedirValores() {
                let numeros = [];
                let entrada;
                let i = 0;

                while (true) {
                    entrada = prompt("Elija números");

                    if (entrada === "f") {
                        break;
                    }

                    numeros[i] = entrada;
                    i++;
                }
                return numeros;
            }

            function media(numeros) {
                let suma = 0;
                let media;

                for (var i = 0; i != numeros.length; i++) {
                    suma = suma + parseInt(numeros[i]);
                }

                media = (suma / numeros.length);
                alert("La media de los números introducidos es : " + media);
            }

            function rango(numeros) {
                let numeroMayor = 0;
                let numeroMenor;
                let rango;

                for (var i = 0; i != numeros.length; i++) {
                    if (numeroMayor < numeros[i]) {
                        numeroMayor = parseInt(numeros[i]);
                    }
                }

                numeroMenor = numeroMayor;

                for (var i = 0; i != numeros.length; i++) {
                    if (numeroMenor > numeros[i]) {
                        numeroMenor = parseInt(numeros[i]);
                    }
                }

                rango = numeroMayor - numeroMenor;
                alert("El rango es: " + rango);
            }

            function moda(numeros) {
                let conteo = [];

                for (var i = 0; i != numeros.length; i++) {
                    if (!conteo[numeros[i]]) {
                        conteo[numeros[i]] = 0;
                    }
                    conteo[numeros[i]] += 1;
                }

                let maxFrecuencia = 0;
                for (let num in conteo) {
                    if (conteo[num] > maxFrecuencia) {
                        maxFrecuencia = conteo[num];
                    }
                }

                let modas = "";
                let primera = true;

                for (let num in conteo) {
                    if (conteo[num] === maxFrecuencia) {
                        if (primera) {
                            modas = num;
                            primera = false;
                        } else {
                            modas = modas + ", " + num;
                        }
                    }
                }
                alert("La moda es: " + modas);

            }
        }

        main();
    </script>
</head>

</html>