<!DOCTYPE html>
<html>
<script>
    function menu() {
        let array = introducirTemperaturas();
        let media = calcularMedias(array);
        let maximo = maximoPorSeccion(array);
        let sobrecalentamiento = detectarSobrecalentamientos(array);
        mostrarResultados(media, maximo, sobrecalentamiento);


    }

    function introducirTemperaturas() {
        let array = []; // Creamos array inicial
        // Definimos las diferentes líneas
        let secciones = 2;
        let maquinas = 3;
        let sensores = 5;

        /* 
            Mediande for anidados, hacemos que se pidan los valores de temperatura de los sensores mientras se muestra 
            la sección y los sensores en los que se encuentra el programa
        */
        for (let i = 0; i != secciones; i++) {
            array[i] = [];
            for (let j = 0; j != maquinas; j++) {
                array[i][j] = [];
                for (let k = 0; k != sensores; k++) {

                    array[i][j][k] = Number(prompt("Introduzca temperatura \n" + `Sección: ${i} \n Máquina ${j} \n Sensor: ${k}`));

                }
            }
        }
        return array;

    }

    function calcularMedias(array) {
        let media = [];
        let numFin = 0;

        for (let i = 0; i != 2; i++) {
            media[i] = [];
            for (let j = 0; j != 3; j++) {
                media[i][j] = [];
                for (let k = 0; k != 5; k++) {

                    numFin += Number(array[i][j][k]);

                }
                media[i][j] = numFin / 5;
                numFin = 0;

            }

        }
        return media;
    }

    function maximoPorSeccion(array) {
        let maximo = []
        let numMax = 0;

        for (let i = 0; i != 2; i++) {
            maximo[i] = [];
            for (let j = 0; j != 3; j++) {
                for (let k = 0; k != 5; k++) {

                    if (numMax < array[i][j][k]) {
                        numMax = array[i][j][k];
                    }


                }

            }
            maximo[i] = numMax;
            numMax = 0;

        }
        return maximo;

    }

    function detectarSobrecalentamientos(array) {
        let tempMax = 100;
        let sobrecalentamiento = [];

        for (let i = 0; i != 2; i++) {
            sobrecalentamiento[i] = [];
            for (let j = 0; j != 3; j++) {
                sobrecalentamiento[i][j] = [];
                for (let k = 0; k != 5; k++) {


                    if (array[i][j][k] > 100) {
                        sobrecalentamiento[i][j][k] = `Sobrecalentamiento detectado`;
                    } else if (array[i][j][k] < 100) {
                        sobrecalentamiento[i][j][k] = `OK`;
                    }


                }

            }


        }
        return sobrecalentamiento;

    }

    function mostrarResultados(media, maximo, sobrecalentamiento) {
        let mensaje = "Resultados ejercicio \n \n";

        mensaje += "Temperatura media por máquina: \n"
        for (let i = 0; i != media.length; i++) {
            for (let j = 0; j != media[i].length; j++) {
                mensaje += `Sección ${i}, máquina ${j}, media: ${media[i][j]} \n`;
            }
        }

        mensaje += "\n";

        mensaje += "Máximo por sección: \n";
        for (let i = 0; i != maximo.length; i++) {
            mensaje += `Sección ${i}: ${maximo[i]} \n`;
        }

        mensaje += "\n";

        mensaje += "Indicador de sobrecalentamiento: \n"
        for (let i = 0; i != sobrecalentamiento.length; i++) {
            for (let j = 0; j != sobrecalentamiento[i].length; j++) {
                for (let k = 0; k != sobrecalentamiento[i][j].length; k++) {
                    mensaje += `Sección ${i}, máquina ${j}, sensor: ${k}: ${sobrecalentamiento[i][j][k]} \n`;

                }

            }


        }
        alert(mensaje);


    }







    menu();
</script>

</html>